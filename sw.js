var Zs=Object.defineProperty;var fn=e=>{throw TypeError(e)};var Qs=(e,t,n)=>t in e?Zs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var y=(e,t,n)=>Qs(e,typeof t!="symbol"?t+"":t,n),Ie=(e,t,n)=>t.has(e)||fn("Cannot "+n);var u=(e,t,n)=>(Ie(e,t,"read from private field"),n?n.call(e):t.get(e)),m=(e,t,n)=>t.has(e)?fn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),g=(e,t,n,s)=>(Ie(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),w=(e,t,n)=>(Ie(e,t,"access private method"),n);var pn=(e,t,n,s)=>({set _(r){g(e,t,r,n)},get _(){return u(e,t,s)}});var gn=(e,t,n)=>(s,r)=>{let i=-1;return o(0);async function o(c){if(c<=i)throw new Error("next() called multiple times");i=c;let a,l=!1,h;if(e[c]?(h=e[c][0][0],s.req.routeIndex=c):h=c===e.length&&r||void 0,h)try{a=await h(s,()=>o(c+1))}catch(d){if(d instanceof Error&&t)s.error=d,a=await t(d,s),l=!0;else throw d}else s.finalized===!1&&n&&(a=await n(s));return a&&(s.finalized===!1||l)&&(s.res=a),s}},tr=Symbol(),er=async(e,t=Object.create(null))=>{const{all:n=!1,dot:s=!1}=t,i=(e instanceof as?e.raw.headers:e.headers).get("Content-Type");return i!=null&&i.startsWith("multipart/form-data")||i!=null&&i.startsWith("application/x-www-form-urlencoded")?nr(e,{all:n,dot:s}):{}};async function nr(e,t){const n=await e.formData();return n?sr(n,t):{}}function sr(e,t){const n=Object.create(null);return e.forEach((s,r)=>{t.all||r.endsWith("[]")?rr(n,r,s):n[r]=s}),t.dot&&Object.entries(n).forEach(([s,r])=>{s.includes(".")&&(ir(n,s,r),delete n[s])}),n}var rr=(e,t,n)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(n):e[t]=[e[t],n]:t.endsWith("[]")?e[t]=[n]:e[t]=n},ir=(e,t,n)=>{let s=e;const r=t.split(".");r.forEach((i,o)=>{o===r.length-1?s[i]=n:((!s[i]||typeof s[i]!="object"||Array.isArray(s[i])||s[i]instanceof File)&&(s[i]=Object.create(null)),s=s[i])})},ns=e=>{const t=e.split("/");return t[0]===""&&t.shift(),t},or=e=>{const{groups:t,path:n}=ar(e),s=ns(n);return cr(s,t)},ar=e=>{const t=[];return e=e.replace(/\{[^}]+\}/g,(n,s)=>{const r=`@${s}`;return t.push([r,n]),r}),{groups:t,path:e}},cr=(e,t)=>{for(let n=t.length-1;n>=0;n--){const[s]=t[n];for(let r=e.length-1;r>=0;r--)if(e[r].includes(s)){e[r]=e[r].replace(s,t[n][1]);break}}return e},pe={},lr=(e,t)=>{if(e==="*")return"*";const n=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(n){const s=`${e}#${t}`;return pe[s]||(n[2]?pe[s]=t&&t[0]!==":"&&t[0]!=="*"?[s,n[1],new RegExp(`^${n[2]}(?=/${t})`)]:[e,n[1],new RegExp(`^${n[2]}$`)]:pe[s]=[e,n[1],!0]),pe[s]}return null},tn=(e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,n=>{try{return t(n)}catch{return n}})}},hr=e=>tn(e,decodeURI),ss=e=>{const t=e.url,n=t.indexOf("/",t.indexOf(":")+4);let s=n;for(;s<t.length;s++){const r=t.charCodeAt(s);if(r===37){const i=t.indexOf("?",s),o=t.indexOf("#",s),c=i===-1?o===-1?void 0:o:o===-1?i:Math.min(i,o),a=t.slice(n,c);return hr(a.includes("%25")?a.replace(/%25/g,"%2525"):a)}else if(r===63||r===35)break}return t.slice(n,s)},ur=e=>{const t=ss(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},At=(e,t,...n)=>(n.length&&(t=At(t,...n)),`${(e==null?void 0:e[0])==="/"?"":"/"}${e}${t==="/"?"":`${(e==null?void 0:e.at(-1))==="/"?"":"/"}${(t==null?void 0:t[0])==="/"?t.slice(1):t}`}`),rs=e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;const t=e.split("/"),n=[];let s="";return t.forEach(r=>{if(r!==""&&!/\:/.test(r))s+="/"+r;else if(/\:/.test(r))if(/\?/.test(r)){n.length===0&&s===""?n.push("/"):n.push(s);const i=r.replace("?","");s+="/"+i,n.push(s)}else s+="/"+r}),n.filter((r,i,o)=>o.indexOf(r)===i)},Be=e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?tn(e,os):e):e,is=(e,t,n)=>{let s;if(!n&&t&&!/[%+]/.test(t)){let o=e.indexOf("?",8);if(o===-1)return;for(e.startsWith(t,o+1)||(o=e.indexOf(`&${t}`,o+1));o!==-1;){const c=e.charCodeAt(o+t.length+1);if(c===61){const a=o+t.length+2,l=e.indexOf("&",a);return Be(e.slice(a,l===-1?void 0:l))}else if(c==38||isNaN(c))return"";o=e.indexOf(`&${t}`,o+1)}if(s=/[%+]/.test(e),!s)return}const r={};s??(s=/[%+]/.test(e));let i=e.indexOf("?",8);for(;i!==-1;){const o=e.indexOf("&",i+1);let c=e.indexOf("=",i);c>o&&o!==-1&&(c=-1);let a=e.slice(i+1,c===-1?o===-1?void 0:o:c);if(s&&(a=Be(a)),i=o,a==="")continue;let l;c===-1?l="":(l=e.slice(c+1,o===-1?void 0:o),s&&(l=Be(l))),n?(r[a]&&Array.isArray(r[a])||(r[a]=[]),r[a].push(l)):r[a]??(r[a]=l)}return t?r[t]:r},dr=is,fr=(e,t)=>is(e,t,!0),os=decodeURIComponent,yn=e=>tn(e,os),jt,N,V,cs,ls,Ke,tt,Yn,as=(Yn=class{constructor(e,t="/",n=[[]]){m(this,V);y(this,"raw");m(this,jt);m(this,N);y(this,"routeIndex",0);y(this,"path");y(this,"bodyCache",{});m(this,tt,e=>{const{bodyCache:t,raw:n}=this,s=t[e];if(s)return s;const r=Object.keys(t)[0];return r?t[r].then(i=>(r==="json"&&(i=JSON.stringify(i)),new Response(i)[e]())):t[e]=n[e]()});this.raw=e,this.path=t,g(this,N,n),g(this,jt,{})}param(e){return e?w(this,V,cs).call(this,e):w(this,V,ls).call(this)}query(e){return dr(this.url,e)}queries(e){return fr(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;const t={};return this.raw.headers.forEach((n,s)=>{t[s]=n}),t}async parseBody(e){var t;return(t=this.bodyCache).parsedBody??(t.parsedBody=await er(this,e))}json(){return u(this,tt).call(this,"text").then(e=>JSON.parse(e))}text(){return u(this,tt).call(this,"text")}arrayBuffer(){return u(this,tt).call(this,"arrayBuffer")}blob(){return u(this,tt).call(this,"blob")}formData(){return u(this,tt).call(this,"formData")}addValidatedData(e,t){u(this,jt)[e]=t}valid(e){return u(this,jt)[e]}get url(){return this.raw.url}get method(){return this.raw.method}get[tr](){return u(this,N)}get matchedRoutes(){return u(this,N)[0].map(([[,e]])=>e)}get routePath(){return u(this,N)[0].map(([[,e]])=>e)[this.routeIndex].path}},jt=new WeakMap,N=new WeakMap,V=new WeakSet,cs=function(e){const t=u(this,N)[0][this.routeIndex][1][e],n=w(this,V,Ke).call(this,t);return n&&/\%/.test(n)?yn(n):n},ls=function(){const e={},t=Object.keys(u(this,N)[0][this.routeIndex][1]);for(const n of t){const s=w(this,V,Ke).call(this,u(this,N)[0][this.routeIndex][1][n]);s!==void 0&&(e[n]=/\%/.test(s)?yn(s):s)}return e},Ke=function(e){return u(this,N)[1]?u(this,N)[1][e]:e},tt=new WeakMap,Yn),hs={Stringify:1},me=(e,t)=>{const n=new String(e);return n.isEscaped=!0,n.callbacks=t,n},pr=/[&<>'"]/,gr=async(e,t)=>{let n="";t||(t=[]);const s=await Promise.all(e);for(let r=s.length-1;n+=s[r],r--,!(r<0);r--){let i=s[r];typeof i=="object"&&t.push(...i.callbacks||[]);const o=i.isEscaped;if(i=await(typeof i=="object"?i.toString():i),typeof i=="object"&&t.push(...i.callbacks||[]),i.isEscaped??o)n+=i;else{const c=[n];Ge(i,c),n=c[0]}}return me(n,t)},Ge=(e,t)=>{const n=e.search(pr);if(n===-1){t[0]+=e;return}let s,r,i=0;for(r=n;r<e.length;r++){switch(e.charCodeAt(r)){case 34:s="&quot;";break;case 39:s="&#39;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}t[0]+=e.substring(i,r)+s,i=r+1}t[0]+=e.substring(i,r)},yr=e=>{const t=e.callbacks;if(!(t!=null&&t.length))return e;const n=[e],s={};return t.forEach(r=>r({phase:hs.Stringify,buffer:n,context:s})),n[0]},us=async(e,t,n,s,r)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));const i=e.callbacks;return i!=null&&i.length?(r?r[0]+=e:r=[e],Promise.all(i.map(c=>c({phase:t,buffer:r,context:s}))).then(c=>Promise.all(c.filter(Boolean).map(a=>us(a,t,!1,s,r))).then(()=>r[0]))):Promise.resolve(e)},vr="text/plain; charset=UTF-8",ze=(e,t)=>({"Content-Type":e,...t}),Wt=(e,t)=>new Response(e,t),ie,oe,W,Nt,q,R,ae,kt,Tt,dt,ce,le,et,Et,Xn,mr=(Xn=class{constructor(e,t){m(this,et);m(this,ie);m(this,oe);y(this,"env",{});m(this,W);y(this,"finalized",!1);y(this,"error");m(this,Nt);m(this,q);m(this,R);m(this,ae);m(this,kt);m(this,Tt);m(this,dt);m(this,ce);m(this,le);y(this,"render",(...e)=>(u(this,kt)??g(this,kt,t=>this.html(t)),u(this,kt).call(this,...e)));y(this,"setLayout",e=>g(this,ae,e));y(this,"getLayout",()=>u(this,ae));y(this,"setRenderer",e=>{g(this,kt,e)});y(this,"header",(e,t,n)=>{this.finalized&&g(this,R,Wt(u(this,R).body,u(this,R)));const s=u(this,R)?u(this,R).headers:u(this,dt)??g(this,dt,new Headers);t===void 0?s.delete(e):n!=null&&n.append?s.append(e,t):s.set(e,t)});y(this,"status",e=>{g(this,Nt,e)});y(this,"set",(e,t)=>{u(this,W)??g(this,W,new Map),u(this,W).set(e,t)});y(this,"get",e=>u(this,W)?u(this,W).get(e):void 0);y(this,"newResponse",(...e)=>w(this,et,Et).call(this,...e));y(this,"body",(e,t,n)=>w(this,et,Et).call(this,e,t,n));y(this,"text",(e,t,n)=>!u(this,dt)&&!u(this,Nt)&&!t&&!n&&!this.finalized?new Response(e):w(this,et,Et).call(this,e,t,ze(vr,n)));y(this,"json",(e,t,n)=>w(this,et,Et).call(this,JSON.stringify(e),t,ze("application/json",n)));y(this,"html",(e,t,n)=>{const s=r=>w(this,et,Et).call(this,r,t,ze("text/html; charset=UTF-8",n));return typeof e=="object"?us(e,hs.Stringify,!1,{}).then(s):s(e)});y(this,"redirect",(e,t)=>{const n=String(e);return this.header("Location",/[^\x00-\xFF]/.test(n)?encodeURI(n):n),this.newResponse(null,t??302)});y(this,"notFound",()=>(u(this,Tt)??g(this,Tt,()=>Wt()),u(this,Tt).call(this,this)));g(this,ie,e),t&&(g(this,q,t.executionCtx),this.env=t.env,g(this,Tt,t.notFoundHandler),g(this,le,t.path),g(this,ce,t.matchResult))}get req(){return u(this,oe)??g(this,oe,new as(u(this,ie),u(this,le),u(this,ce))),u(this,oe)}get event(){if(u(this,q)&&"respondWith"in u(this,q))return u(this,q);throw Error("This context has no FetchEvent")}get executionCtx(){if(u(this,q))return u(this,q);throw Error("This context has no ExecutionContext")}get res(){return u(this,R)||g(this,R,Wt(null,{headers:u(this,dt)??g(this,dt,new Headers)}))}set res(e){if(u(this,R)&&e){e=Wt(e.body,e);for(const[t,n]of u(this,R).headers.entries())if(t!=="content-type")if(t==="set-cookie"){const s=u(this,R).headers.getSetCookie();e.headers.delete("set-cookie");for(const r of s)e.headers.append("set-cookie",r)}else e.headers.set(t,n)}g(this,R,e),this.finalized=!0}get var(){return u(this,W)?Object.fromEntries(u(this,W)):{}}},ie=new WeakMap,oe=new WeakMap,W=new WeakMap,Nt=new WeakMap,q=new WeakMap,R=new WeakMap,ae=new WeakMap,kt=new WeakMap,Tt=new WeakMap,dt=new WeakMap,ce=new WeakMap,le=new WeakMap,et=new WeakSet,Et=function(e,t,n){const s=u(this,R)?new Headers(u(this,R).headers):u(this,dt)??new Headers;if(typeof t=="object"&&"headers"in t){const i=t.headers instanceof Headers?t.headers:new Headers(t.headers);for(const[o,c]of i)o.toLowerCase()==="set-cookie"?s.append(o,c):s.set(o,c)}if(n)for(const[i,o]of Object.entries(n))if(typeof o=="string")s.set(i,o);else{s.delete(i);for(const c of o)s.append(i,c)}const r=typeof t=="number"?t:(t==null?void 0:t.status)??u(this,Nt);return Wt(e,{status:r,headers:s})},Xn),A="ALL",$r="all",br=["get","post","put","delete","options","patch"],ds="Can not add a route since the matcher is already built.",fs=class extends Error{},wr="__COMPOSED_HANDLER",_r=e=>e.text("404 Not Found",404),vn=(e,t)=>{if("getResponse"in e){const n=e.getResponse();return t.newResponse(n.body,n)}return console.error(e),t.text("Internal Server Error",500)},M,S,ps,L,lt,$e,be,Ht,xr=(Ht=class{constructor(t={}){m(this,S);y(this,"get");y(this,"post");y(this,"put");y(this,"delete");y(this,"options");y(this,"patch");y(this,"all");y(this,"on");y(this,"use");y(this,"router");y(this,"getPath");y(this,"_basePath","/");m(this,M,"/");y(this,"routes",[]);m(this,L,_r);y(this,"errorHandler",vn);y(this,"onError",t=>(this.errorHandler=t,this));y(this,"notFound",t=>(g(this,L,t),this));y(this,"fetch",(t,...n)=>w(this,S,be).call(this,t,n[1],n[0],t.method));y(this,"request",(t,n,s,r)=>t instanceof Request?this.fetch(n?new Request(t,n):t,s,r):(t=t.toString(),this.fetch(new Request(/^https?:\/\//.test(t)?t:`http://localhost${At("/",t)}`,n),s,r)));y(this,"fire",()=>{addEventListener("fetch",t=>{t.respondWith(w(this,S,be).call(this,t.request,t,void 0,t.request.method))})});[...br,$r].forEach(i=>{this[i]=(o,...c)=>(typeof o=="string"?g(this,M,o):w(this,S,lt).call(this,i,u(this,M),o),c.forEach(a=>{w(this,S,lt).call(this,i,u(this,M),a)}),this)}),this.on=(i,o,...c)=>{for(const a of[o].flat()){g(this,M,a);for(const l of[i].flat())c.map(h=>{w(this,S,lt).call(this,l.toUpperCase(),u(this,M),h)})}return this},this.use=(i,...o)=>(typeof i=="string"?g(this,M,i):(g(this,M,"*"),o.unshift(i)),o.forEach(c=>{w(this,S,lt).call(this,A,u(this,M),c)}),this);const{strict:s,...r}=t;Object.assign(this,r),this.getPath=s??!0?t.getPath??ss:ur}route(t,n){const s=this.basePath(t);return n.routes.map(r=>{var o;let i;n.errorHandler===vn?i=r.handler:(i=async(c,a)=>(await gn([],n.errorHandler)(c,()=>r.handler(c,a))).res,i[wr]=r.handler),w(o=s,S,lt).call(o,r.method,r.path,i)}),this}basePath(t){const n=w(this,S,ps).call(this);return n._basePath=At(this._basePath,t),n}mount(t,n,s){let r,i;s&&(typeof s=="function"?i=s:(i=s.optionHandler,s.replaceRequest===!1?r=a=>a:r=s.replaceRequest));const o=i?a=>{const l=i(a);return Array.isArray(l)?l:[l]}:a=>{let l;try{l=a.executionCtx}catch{}return[a.env,l]};r||(r=(()=>{const a=At(this._basePath,t),l=a==="/"?0:a.length;return h=>{const d=new URL(h.url);return d.pathname=d.pathname.slice(l)||"/",new Request(d,h)}})());const c=async(a,l)=>{const h=await n(r(a.req.raw),...o(a));if(h)return h;await l()};return w(this,S,lt).call(this,A,At(t,"*"),c),this}},M=new WeakMap,S=new WeakSet,ps=function(){const t=new Ht({router:this.router,getPath:this.getPath});return t.errorHandler=this.errorHandler,g(t,L,u(this,L)),t.routes=this.routes,t},L=new WeakMap,lt=function(t,n,s){t=t.toUpperCase(),n=At(this._basePath,n);const r={basePath:this._basePath,path:n,method:t,handler:s};this.router.add(t,n,[s,r]),this.routes.push(r)},$e=function(t,n){if(t instanceof Error)return this.errorHandler(t,n);throw t},be=function(t,n,s,r){if(r==="HEAD")return(async()=>new Response(null,await w(this,S,be).call(this,t,n,s,"GET")))();const i=this.getPath(t,{env:s}),o=this.router.match(r,i),c=new mr(t,{path:i,matchResult:o,env:s,executionCtx:n,notFoundHandler:u(this,L)});if(o[0].length===1){let l;try{l=o[0][0][0][0](c,async()=>{c.res=await u(this,L).call(this,c)})}catch(h){return w(this,S,$e).call(this,h,c)}return l instanceof Promise?l.then(h=>h||(c.finalized?c.res:u(this,L).call(this,c))).catch(h=>w(this,S,$e).call(this,h,c)):l??u(this,L).call(this,c)}const a=gn(o[0],this.errorHandler,u(this,L));return(async()=>{try{const l=await a(c);if(!l.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return l.res}catch(l){return w(this,S,$e).call(this,l,c)}})()},Ht),gs=[];function Ar(e,t){const n=this.buildAllMatchers(),s=(r,i)=>{const o=n[r]||n[A],c=o[2][i];if(c)return c;const a=i.match(o[0]);if(!a)return[[],gs];const l=a.indexOf("",1);return[o[1][l],a]};return this.match=s,s(e,t)}var Ae="[^/]+",Yt=".*",Xt="(?:|/.*)",St=Symbol(),Er=new Set(".\\+*[^]$()");function Sr(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===Yt||e===Xt?1:t===Yt||t===Xt?-1:e===Ae?1:t===Ae?-1:e.length===t.length?e<t?-1:1:t.length-e.length}var ft,pt,D,vt,Cr=(vt=class{constructor(){m(this,ft);m(this,pt);m(this,D,Object.create(null))}insert(t,n,s,r,i){if(t.length===0){if(u(this,ft)!==void 0)throw St;if(i)return;g(this,ft,n);return}const[o,...c]=t,a=o==="*"?c.length===0?["","",Yt]:["","",Ae]:o==="/*"?["","",Xt]:o.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let l;if(a){const h=a[1];let d=a[2]||Ae;if(h&&a[2]&&(d===".*"||(d=d.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(d))))throw St;if(l=u(this,D)[d],!l){if(Object.keys(u(this,D)).some(f=>f!==Yt&&f!==Xt))throw St;if(i)return;l=u(this,D)[d]=new vt,h!==""&&g(l,pt,r.varIndex++)}!i&&h!==""&&s.push([h,u(l,pt)])}else if(l=u(this,D)[o],!l){if(Object.keys(u(this,D)).some(h=>h.length>1&&h!==Yt&&h!==Xt))throw St;if(i)return;l=u(this,D)[o]=new vt}l.insert(c,n,s,r,i)}buildRegExpStr(){const n=Object.keys(u(this,D)).sort(Sr).map(s=>{const r=u(this,D)[s];return(typeof u(r,pt)=="number"?`(${s})@${u(r,pt)}`:Er.has(s)?`\\${s}`:s)+r.buildRegExpStr()});return typeof u(this,ft)=="number"&&n.unshift(`#${u(this,ft)}`),n.length===0?"":n.length===1?n[0]:"(?:"+n.join("|")+")"}},ft=new WeakMap,pt=new WeakMap,D=new WeakMap,vt),Ne,he,Zn,Or=(Zn=class{constructor(){m(this,Ne,{varIndex:0});m(this,he,new Cr)}insert(e,t,n){const s=[],r=[];for(let o=0;;){let c=!1;if(e=e.replace(/\{[^}]+\}/g,a=>{const l=`@\\${o}`;return r[o]=[l,a],o++,c=!0,l}),!c)break}const i=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let o=r.length-1;o>=0;o--){const[c]=r[o];for(let a=i.length-1;a>=0;a--)if(i[a].indexOf(c)!==-1){i[a]=i[a].replace(c,r[o][1]);break}}return u(this,he).insert(i,t,s,u(this,Ne),n),s}buildRegExp(){let e=u(this,he).buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0;const n=[],s=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(r,i,o)=>i!==void 0?(n[++t]=Number(i),"$()"):(o!==void 0&&(s[Number(o)]=++t),"")),[new RegExp(`^${e}`),n,s]}},Ne=new WeakMap,he=new WeakMap,Zn),Pr=[/^$/,[],Object.create(null)],we=Object.create(null);function ys(e){return we[e]??(we[e]=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,n)=>n?`\\${n}`:"(?:|/.*)")}$`))}function Rr(){we=Object.create(null)}function jr(e){var l;const t=new Or,n=[];if(e.length===0)return Pr;const s=e.map(h=>[!/\*|\/:/.test(h[0]),...h]).sort(([h,d],[f,p])=>h?1:f?-1:d.length-p.length),r=Object.create(null);for(let h=0,d=-1,f=s.length;h<f;h++){const[p,v,x]=s[h];p?r[v]=[x.map(([b])=>[b,Object.create(null)]),gs]:d++;let $;try{$=t.insert(v,d,p)}catch(b){throw b===St?new fs(v):b}p||(n[d]=x.map(([b,_])=>{const j=Object.create(null);for(_-=1;_>=0;_--){const[U,$t]=$[_];j[U]=$t}return[b,j]}))}const[i,o,c]=t.buildRegExp();for(let h=0,d=n.length;h<d;h++)for(let f=0,p=n[h].length;f<p;f++){const v=(l=n[h][f])==null?void 0:l[1];if(!v)continue;const x=Object.keys(v);for(let $=0,b=x.length;$<b;$++)v[x[$]]=c[v[x[$]]]}const a=[];for(const h in o)a[h]=n[o[h]];return[i,a,r]}function _t(e,t){if(e){for(const n of Object.keys(e).sort((s,r)=>r.length-s.length))if(ys(n).test(t))return[...e[n]]}}var nt,st,ke,vs,Qn,Nr=(Qn=class{constructor(){m(this,ke);y(this,"name","RegExpRouter");m(this,nt);m(this,st);y(this,"match",Ar);g(this,nt,{[A]:Object.create(null)}),g(this,st,{[A]:Object.create(null)})}add(e,t,n){var c;const s=u(this,nt),r=u(this,st);if(!s||!r)throw new Error(ds);s[e]||[s,r].forEach(a=>{a[e]=Object.create(null),Object.keys(a[A]).forEach(l=>{a[e][l]=[...a[A][l]]})}),t==="/*"&&(t="*");const i=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){const a=ys(t);e===A?Object.keys(s).forEach(l=>{var h;(h=s[l])[t]||(h[t]=_t(s[l],t)||_t(s[A],t)||[])}):(c=s[e])[t]||(c[t]=_t(s[e],t)||_t(s[A],t)||[]),Object.keys(s).forEach(l=>{(e===A||e===l)&&Object.keys(s[l]).forEach(h=>{a.test(h)&&s[l][h].push([n,i])})}),Object.keys(r).forEach(l=>{(e===A||e===l)&&Object.keys(r[l]).forEach(h=>a.test(h)&&r[l][h].push([n,i]))});return}const o=rs(t)||[t];for(let a=0,l=o.length;a<l;a++){const h=o[a];Object.keys(r).forEach(d=>{var f;(e===A||e===d)&&((f=r[d])[h]||(f[h]=[..._t(s[d],h)||_t(s[A],h)||[]]),r[d][h].push([n,i-l+a+1]))})}}buildAllMatchers(){const e=Object.create(null);return Object.keys(u(this,st)).concat(Object.keys(u(this,nt))).forEach(t=>{e[t]||(e[t]=w(this,ke,vs).call(this,t))}),g(this,nt,g(this,st,void 0)),Rr(),e}},nt=new WeakMap,st=new WeakMap,ke=new WeakSet,vs=function(e){const t=[];let n=e===A;return[u(this,nt),u(this,st)].forEach(s=>{const r=s[e]?Object.keys(s[e]).map(i=>[i,s[e][i]]):[];r.length!==0?(n||(n=!0),t.push(...r)):e!==A&&t.push(...Object.keys(s[A]).map(i=>[i,s[A][i]]))}),n?jr(t):null},Qn),rt,F,ts,kr=(ts=class{constructor(e){y(this,"name","SmartRouter");m(this,rt,[]);m(this,F,[]);g(this,rt,e.routers)}add(e,t,n){if(!u(this,F))throw new Error(ds);u(this,F).push([e,t,n])}match(e,t){if(!u(this,F))throw new Error("Fatal error");const n=u(this,rt),s=u(this,F),r=n.length;let i=0,o;for(;i<r;i++){const c=n[i];try{for(let a=0,l=s.length;a<l;a++)c.add(...s[a]);o=c.match(e,t)}catch(a){if(a instanceof fs)continue;throw a}this.match=c.match.bind(c),g(this,rt,[c]),g(this,F,void 0);break}if(i===r)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,o}get activeRouter(){if(u(this,F)||u(this,rt).length!==1)throw new Error("No active router has been determined yet.");return u(this,rt)[0]}},rt=new WeakMap,F=new WeakMap,ts),qt=Object.create(null),Tr=e=>{for(const t in e)return!0;return!1},it,P,gt,Mt,O,K,ht,Lt,Hr=(Lt=class{constructor(t,n,s){m(this,K);m(this,it);m(this,P);m(this,gt);m(this,Mt,0);m(this,O,qt);if(g(this,P,s||Object.create(null)),g(this,it,[]),t&&n){const r=Object.create(null);r[t]={handler:n,possibleKeys:[],score:0},g(this,it,[r])}g(this,gt,[])}insert(t,n,s){g(this,Mt,++pn(this,Mt)._);let r=this;const i=or(n),o=[];for(let c=0,a=i.length;c<a;c++){const l=i[c],h=i[c+1],d=lr(l,h),f=Array.isArray(d)?d[0]:l;if(f in u(r,P)){r=u(r,P)[f],d&&o.push(d[1]);continue}u(r,P)[f]=new Lt,d&&(u(r,gt).push(d),o.push(d[1])),r=u(r,P)[f]}return u(r,it).push({[t]:{handler:s,possibleKeys:o.filter((c,a,l)=>l.indexOf(c)===a),score:u(this,Mt)}}),r}search(t,n){var h;const s=[];g(this,O,qt);let i=[this];const o=ns(n),c=[],a=o.length;let l=null;for(let d=0;d<a;d++){const f=o[d],p=d===a-1,v=[];for(let $=0,b=i.length;$<b;$++){const _=i[$],j=u(_,P)[f];j&&(g(j,O,u(_,O)),p?(u(j,P)["*"]&&w(this,K,ht).call(this,s,u(j,P)["*"],t,u(_,O)),w(this,K,ht).call(this,s,j,t,u(_,O))):v.push(j));for(let U=0,$t=u(_,gt).length;U<$t;U++){const zt=u(_,gt)[U],T=u(_,O)===qt?{}:{...u(_,O)};if(zt==="*"){const I=u(_,P)["*"];I&&(w(this,K,ht).call(this,s,I,t,u(_,O)),g(I,O,T),v.push(I));continue}const[De,fe,ot]=zt;if(!f&&!(ot instanceof RegExp))continue;const H=u(_,P)[De];if(ot instanceof RegExp){if(l===null){l=new Array(a);let Y=n[0]==="/"?1:0;for(let at=0;at<a;at++)l[at]=Y,Y+=o[at].length+1}const I=n.substring(l[d]),bt=ot.exec(I);if(bt){if(T[fe]=bt[0],w(this,K,ht).call(this,s,H,t,u(_,O),T),Tr(u(H,P))){g(H,O,T);const Y=((h=bt[0].match(/\//))==null?void 0:h.length)??0;(c[Y]||(c[Y]=[])).push(H)}continue}}(ot===!0||ot.test(f))&&(T[fe]=f,p?(w(this,K,ht).call(this,s,H,t,T,u(_,O)),u(H,P)["*"]&&w(this,K,ht).call(this,s,u(H,P)["*"],t,T,u(_,O))):(g(H,O,T),v.push(H)))}}const x=c.shift();i=x?v.concat(x):v}return s.length>1&&s.sort((d,f)=>d.score-f.score),[s.map(({handler:d,params:f})=>[d,f])]}},it=new WeakMap,P=new WeakMap,gt=new WeakMap,Mt=new WeakMap,O=new WeakMap,K=new WeakSet,ht=function(t,n,s,r,i){for(let o=0,c=u(n,it).length;o<c;o++){const a=u(n,it)[o],l=a[s]||a[A],h={};if(l!==void 0&&(l.params=Object.create(null),t.push(l),r!==qt||i&&i!==qt))for(let d=0,f=l.possibleKeys.length;d<f;d++){const p=l.possibleKeys[d],v=h[l.score];l.params[p]=i!=null&&i[p]&&!v?i[p]:r[p]??(i==null?void 0:i[p]),h[l.score]=!0}}},Lt),yt,es,Mr=(es=class{constructor(){y(this,"name","TrieRouter");m(this,yt);g(this,yt,new Hr)}add(e,t,n){const s=rs(t);if(s){for(let r=0,i=s.length;r<i;r++)u(this,yt).insert(e,s[r],n);return}u(this,yt).insert(e,t,n)}match(e,t){return u(this,yt).search(e,t)}},yt=new WeakMap,es),Lr=class extends xr{constructor(e={}){super(e),this.router=e.router??new kr({routers:[new Nr,new Mr]})}},Dr=(e,t={fetch:globalThis.fetch.bind(globalThis)})=>n=>{n.respondWith((async()=>{const s=await e.fetch(n.request,{},n);return t.fetch&&s.status===404?await t.fetch(n.request):s})())},Ur=(e,t={fetch:void 0})=>{addEventListener("fetch",Dr(e,t))},Ir=(e,...t)=>{const n=[""];for(let s=0,r=e.length-1;s<r;s++){n[0]+=e[s];const i=Array.isArray(t[s])?t[s].flat(1/0):[t[s]];for(let o=0,c=i.length;o<c;o++){const a=i[o];if(typeof a=="string")Ge(a,n);else if(typeof a=="number")n[0]+=a;else{if(typeof a=="boolean"||a===null||a===void 0)continue;if(typeof a=="object"&&a.isEscaped)if(a.callbacks)n.unshift("",a);else{const l=a.toString();l instanceof Promise?n.unshift("",l):n[0]+=l}else a instanceof Promise?n.unshift("",a):Ge(a.toString(),n)}}}return n[0]+=e.at(-1),n.length===1?"callbacks"in n?me(yr(me(n[0],n.callbacks))):me(n[0]):gr(n,n.callbacks)};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _e=globalThis,en=_e.ShadowRoot&&(_e.ShadyCSS===void 0||_e.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,nn=Symbol(),mn=new WeakMap;let ms=class{constructor(t,n,s){if(this._$cssResult$=!0,s!==nn)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(en&&t===void 0){const s=n!==void 0&&n.length===1;s&&(t=mn.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),s&&mn.set(n,t))}return t}toString(){return this.cssText}};const Br=e=>new ms(typeof e=="string"?e:e+"",void 0,nn),zr=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((s,r,i)=>s+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+e[i+1],e[0]);return new ms(n,e,nn)},Wr=(e,t)=>{if(en)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const s=document.createElement("style"),r=_e.litNonce;r!==void 0&&s.setAttribute("nonce",r),s.textContent=n.cssText,e.appendChild(s)}},$n=en?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const s of t.cssRules)n+=s.cssText;return Br(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:qr,defineProperty:Fr,getOwnPropertyDescriptor:Kr,getOwnPropertyNames:Gr,getOwnPropertySymbols:Vr,getPrototypeOf:Jr}=Object,Dt=globalThis,bn=Dt.trustedTypes,Yr=bn?bn.emptyScript:"",wn=Dt.reactiveElementPolyfillSupport,Zt=(e,t)=>e,Ee={toAttribute(e,t){switch(t){case Boolean:e=e?Yr:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},sn=(e,t)=>!qr(e,t),_n={attribute:!0,type:String,converter:Ee,reflect:!1,useDefault:!1,hasChanged:sn};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Dt.litPropertyMetadata??(Dt.litPropertyMetadata=new WeakMap);let Ct=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=_n){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(t,n),!n.noAccessor){const s=Symbol(),r=this.getPropertyDescriptor(t,s,n);r!==void 0&&Fr(this.prototype,t,r)}}static getPropertyDescriptor(t,n,s){const{get:r,set:i}=Kr(this.prototype,t)??{get(){return this[n]},set(o){this[n]=o}};return{get:r,set(o){const c=r==null?void 0:r.call(this);i==null||i.call(this,o),this.requestUpdate(t,c,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??_n}static _$Ei(){if(this.hasOwnProperty(Zt("elementProperties")))return;const t=Jr(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(Zt("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Zt("properties"))){const n=this.properties,s=[...Gr(n),...Vr(n)];for(const r of s)this.createProperty(r,n[r])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[s,r]of n)this.elementProperties.set(s,r)}this._$Eh=new Map;for(const[n,s]of this.elementProperties){const r=this._$Eu(n,s);r!==void 0&&this._$Eh.set(r,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const s=new Set(t.flat(1/0).reverse());for(const r of s)n.unshift($n(r))}else t!==void 0&&n.push($n(t));return n}static _$Eu(t,n){const s=n.attribute;return s===!1?void 0:typeof s=="string"?s:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(n=>n(this))}addController(t){var n;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)==null||n.call(t))}removeController(t){var n;(n=this._$EO)==null||n.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const s of n.keys())this.hasOwnProperty(s)&&(t.set(s,this[s]),delete this[s]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Wr(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(n=>{var s;return(s=n.hostConnected)==null?void 0:s.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(n=>{var s;return(s=n.hostDisconnected)==null?void 0:s.call(n)})}attributeChangedCallback(t,n,s){this._$AK(t,s)}_$ET(t,n){var s;const r=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:Ee).toAttribute(n,r.type);this._$Em=t,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(t,n){var s,r;const i=this.constructor,o=i._$Eh.get(t);if(o!==void 0&&this._$Em!==o){const c=i.getPropertyOptions(o),a=typeof c.converter=="function"?{fromAttribute:c.converter}:((s=c.converter)==null?void 0:s.fromAttribute)!==void 0?c.converter:Ee;this._$Em=o;const l=a.fromAttribute(n,c.type);this[o]=l??((r=this._$Ej)==null?void 0:r.get(o))??l,this._$Em=null}}requestUpdate(t,n,s){var r;if(t!==void 0){const i=this.constructor,o=this[t];if(s??(s=i.getPropertyOptions(t)),!((s.hasChanged??sn)(o,n)||s.useDefault&&s.reflect&&o===((r=this._$Ej)==null?void 0:r.get(t))&&!this.hasAttribute(i._$Eu(t,s))))return;this.C(t,n,s)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,n,{useDefault:s,reflect:r,wrapped:i},o){s&&!(this._$Ej??(this._$Ej=new Map)).has(t)&&(this._$Ej.set(t,o??n??this[t]),i!==!0||o!==void 0)||(this._$AL.has(t)||(this.hasUpdated||s||(n=void 0),this._$AL.set(t,n)),r===!0&&this._$Em!==t&&(this._$Eq??(this._$Eq=new Set)).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[i,o]of r){const{wrapped:c}=o,a=this[i];c!==!0||this._$AL.has(i)||a===void 0||this.C(i,void 0,o,a)}}let n=!1;const s=this._$AL;try{n=this.shouldUpdate(s),n?(this.willUpdate(s),(t=this._$EO)==null||t.forEach(r=>{var i;return(i=r.hostUpdate)==null?void 0:i.call(r)}),this.update(s)):this._$EM()}catch(r){throw n=!1,this._$EM(),r}n&&this._$AE(s)}willUpdate(t){}_$AE(t){var n;(n=this._$EO)==null||n.forEach(s=>{var r;return(r=s.hostUpdated)==null?void 0:r.call(s)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(t){}firstUpdated(t){}};Ct.elementStyles=[],Ct.shadowRootOptions={mode:"open"},Ct[Zt("elementProperties")]=new Map,Ct[Zt("finalized")]=new Map,wn==null||wn({ReactiveElement:Ct}),(Dt.reactiveElementVersions??(Dt.reactiveElementVersions=[])).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Se=globalThis,Ce=Se.trustedTypes,xn=Ce?Ce.createPolicy("lit-html",{createHTML:e=>e}):void 0,$s="$lit$",Q=`lit$${Math.random().toFixed(9).slice(2)}$`,bs="?"+Q,Xr=`<${bs}>`,mt=document,ne=()=>mt.createComment(""),se=e=>e===null||typeof e!="object"&&typeof e!="function",rn=Array.isArray,Zr=e=>rn(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",We=`[ 	
\f\r]`,Ft=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,An=/-->/g,En=/>/g,ct=RegExp(`>|${We}(?:([^\\s"'>=/]+)(${We}*=${We}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Sn=/'/g,Cn=/"/g,ws=/^(?:script|style|textarea|title)$/i,Qr=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),Z=Qr(1),B=Symbol.for("lit-noChange"),E=Symbol.for("lit-nothing"),On=new WeakMap,ut=mt.createTreeWalker(mt,129);function _s(e,t){if(!rn(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return xn!==void 0?xn.createHTML(t):t}const ti=(e,t)=>{const n=e.length-1,s=[];let r,i=t===2?"<svg>":t===3?"<math>":"",o=Ft;for(let c=0;c<n;c++){const a=e[c];let l,h,d=-1,f=0;for(;f<a.length&&(o.lastIndex=f,h=o.exec(a),h!==null);)f=o.lastIndex,o===Ft?h[1]==="!--"?o=An:h[1]!==void 0?o=En:h[2]!==void 0?(ws.test(h[2])&&(r=RegExp("</"+h[2],"g")),o=ct):h[3]!==void 0&&(o=ct):o===ct?h[0]===">"?(o=r??Ft,d=-1):h[1]===void 0?d=-2:(d=o.lastIndex-h[2].length,l=h[1],o=h[3]===void 0?ct:h[3]==='"'?Cn:Sn):o===Cn||o===Sn?o=ct:o===An||o===En?o=Ft:(o=ct,r=void 0);const p=o===ct&&e[c+1].startsWith("/>")?" ":"";i+=o===Ft?a+Xr:d>=0?(s.push(l),a.slice(0,d)+$s+a.slice(d)+Q+p):a+Q+(d===-2?c:p)}return[_s(e,i+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),s]};let Ve=class xs{constructor({strings:t,_$litType$:n},s){let r;this.parts=[];let i=0,o=0;const c=t.length-1,a=this.parts,[l,h]=ti(t,n);if(this.el=xs.createElement(l,s),ut.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(r=ut.nextNode())!==null&&a.length<c;){if(r.nodeType===1){if(r.hasAttributes())for(const d of r.getAttributeNames())if(d.endsWith($s)){const f=h[o++],p=r.getAttribute(d).split(Q),v=/([.?@])?(.*)/.exec(f);a.push({type:1,index:i,name:v[2],strings:p,ctor:v[1]==="."?ni:v[1]==="?"?si:v[1]==="@"?ri:Te}),r.removeAttribute(d)}else d.startsWith(Q)&&(a.push({type:6,index:i}),r.removeAttribute(d));if(ws.test(r.tagName)){const d=r.textContent.split(Q),f=d.length-1;if(f>0){r.textContent=Ce?Ce.emptyScript:"";for(let p=0;p<f;p++)r.append(d[p],ne()),ut.nextNode(),a.push({type:2,index:++i});r.append(d[f],ne())}}}else if(r.nodeType===8)if(r.data===bs)a.push({type:2,index:i});else{let d=-1;for(;(d=r.data.indexOf(Q,d+1))!==-1;)a.push({type:7,index:i}),d+=Q.length-1}i++}}static createElement(t,n){const s=mt.createElement("template");return s.innerHTML=t,s}};function Ut(e,t,n=e,s){var r,i;if(t===B)return t;let o=s!==void 0?(r=n._$Co)==null?void 0:r[s]:n._$Cl;const c=se(t)?void 0:t._$litDirective$;return(o==null?void 0:o.constructor)!==c&&((i=o==null?void 0:o._$AO)==null||i.call(o,!1),c===void 0?o=void 0:(o=new c(e),o._$AT(e,n,s)),s!==void 0?(n._$Co??(n._$Co=[]))[s]=o:n._$Cl=o),o!==void 0&&(t=Ut(e,o._$AS(e,t.values),o,s)),t}let ei=class{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:s}=this._$AD,r=((t==null?void 0:t.creationScope)??mt).importNode(n,!0);ut.currentNode=r;let i=ut.nextNode(),o=0,c=0,a=s[0];for(;a!==void 0;){if(o===a.index){let l;a.type===2?l=new on(i,i.nextSibling,this,t):a.type===1?l=new a.ctor(i,a.name,a.strings,this,t):a.type===6&&(l=new ii(i,this,t)),this._$AV.push(l),a=s[++c]}o!==(a==null?void 0:a.index)&&(i=ut.nextNode(),o++)}return ut.currentNode=mt,r}p(t){let n=0;for(const s of this._$AV)s!==void 0&&(s.strings!==void 0?(s._$AI(t,s,n),n+=s.strings.length-2):s._$AI(t[n])),n++}},on=class As{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,n,s,r){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=s,this.options=r,this._$Cv=(r==null?void 0:r.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=Ut(this,t,n),se(t)?t===E||t==null||t===""?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==B&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):Zr(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&se(this._$AH)?this._$AA.nextSibling.data=t:this.T(mt.createTextNode(t)),this._$AH=t}$(t){var n;const{values:s,_$litType$:r}=t,i=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=Ve.createElement(_s(r.h,r.h[0]),this.options)),r);if(((n=this._$AH)==null?void 0:n._$AD)===i)this._$AH.p(s);else{const o=new ei(i,this),c=o.u(this.options);o.p(s),this.T(c),this._$AH=o}}_$AC(t){let n=On.get(t.strings);return n===void 0&&On.set(t.strings,n=new Ve(t)),n}k(t){rn(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let s,r=0;for(const i of t)r===n.length?n.push(s=new As(this.O(ne()),this.O(ne()),this,this.options)):s=n[r],s._$AI(i),r++;r<n.length&&(this._$AR(s&&s._$AB.nextSibling,r),n.length=r)}_$AR(t=this._$AA.nextSibling,n){var s;for((s=this._$AP)==null?void 0:s.call(this,!1,!0,n);t!==this._$AB;){const r=t.nextSibling;t.remove(),t=r}}setConnected(t){var n;this._$AM===void 0&&(this._$Cv=t,(n=this._$AP)==null||n.call(this,t))}},Te=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,s,r,i){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=n,this._$AM=r,this.options=i,s.length>2||s[0]!==""||s[1]!==""?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,n=this,s,r){const i=this.strings;let o=!1;if(i===void 0)t=Ut(this,t,n,0),o=!se(t)||t!==this._$AH&&t!==B,o&&(this._$AH=t);else{const c=t;let a,l;for(t=i[0],a=0;a<i.length-1;a++)l=Ut(this,c[s+a],n,a),l===B&&(l=this._$AH[a]),o||(o=!se(l)||l!==this._$AH[a]),l===E?t=E:t!==E&&(t+=(l??"")+i[a+1]),this._$AH[a]=l}o&&!r&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}};class ni extends Te{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}let si=class extends Te{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}},ri=class extends Te{constructor(t,n,s,r,i){super(t,n,s,r,i),this.type=5}_$AI(t,n=this){if((t=Ut(this,t,n,0)??E)===B)return;const s=this._$AH,r=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,i=t!==E&&(s===E||r);r&&this.element.removeEventListener(this.name,this,s),i&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,t):this._$AH.handleEvent(t)}},ii=class{constructor(t,n,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){Ut(this,t)}};const Pn=Se.litHtmlPolyfillSupport;Pn==null||Pn(Ve,on),(Se.litHtmlVersions??(Se.litHtmlVersions=[])).push("3.3.1");const oi=(e,t,n)=>{const s=(n==null?void 0:n.renderBefore)??t;let r=s._$litPart$;if(r===void 0){const i=(n==null?void 0:n.renderBefore)??null;s._$litPart$=r=new on(t.insertBefore(ne(),i),i,void 0,n??{})}return r._$AI(e),r};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const re=globalThis;let Rt=class extends Ct{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t;const n=super.createRenderRoot();return(t=this.renderOptions).renderBefore??(t.renderBefore=n.firstChild),n}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=oi(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return B}};var Rn;Rt._$litElement$=!0,Rt.finalized=!0,(Rn=re.litElementHydrateSupport)==null||Rn.call(re,{LitElement:Rt});const jn=re.litElementPolyfillSupport;jn==null||jn({LitElement:Rt});(re.litElementVersions??(re.litElementVersions=[])).push("4.2.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ai={CHILD:2},Es=e=>(...t)=>({_$litDirective$:e,values:t});class Ss{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,n,s){this._$Ct=t,this._$AM=n,this._$Ci=s}_$AS(t,n){return this.update(t,n)}update(t,n){return this.render(...n)}}let ci=class extends Ss{constructor(){super(...arguments),this.i=0,this.async=!1,this.defer=!1,this.crossOrigin="anonymous",this.onLoadHandler=t=>{this.onload&&this.onload(t)},this.onErrorHandler=()=>{}}update(t,[n,s,r]){return this.apiKey===n&&this.domain===s&&this.cname===r?B:this.render(n,s,r)}render(t,n="eu1.gigya.com",s=void 0){console.log("ScriptDirective render",t,n),this.apiKey=t,this.domain=n,this.cname=s;const r=document.createElement("script");r.id="gigya-script",r.async=this.async,r.defer=this.defer;const i=`${s||`cdns.${n}`}`;return r.src=`https://${i}/js/gigya.js?apiKey=${t}&pretty=true&debug=true`,document.head.appendChild(r),E}};const li=Es(ci);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function qe(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s,r,i=n.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)o.push(s.value)}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o}var Pt;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Pt||(Pt={}));var Cs={type:"xstate.init"};function ge(e){return e===void 0?[]:[].concat(e)}function hi(e){return{type:"xstate.assign",assignment:e}}function Nn(e,t){return typeof(e=typeof e=="string"&&t&&t[e]?t[e]:e)=="string"?{type:e}:typeof e=="function"?{type:e.name,exec:e}:e}function Oe(e){return function(t){return e===t}}function Os(e){return typeof e=="string"?{type:e}:e}function kn(e,t){return{value:e,context:t,actions:[],changed:!1,matches:Oe(e)}}function Tn(e,t,n){var s=t,r=!1;return[e.filter(function(i){if(i.type==="xstate.assign"){r=!0;var o=Object.assign({},s);return typeof i.assignment=="function"?o=i.assignment(s,n):Object.keys(i.assignment).forEach(function(c){o[c]=typeof i.assignment[c]=="function"?i.assignment[c](s,n):i.assignment[c]}),s=o,!1}return!0}),s,r]}function ui(e,t){t===void 0&&(t={});var n=qe(Tn(ge(e.states[e.initial].entry).map(function(o){return Nn(o,t.actions)}),e.context,Cs),2),s=n[0],r=n[1],i={config:e,_options:t,initialState:{value:e.initial,actions:s,context:r,matches:Oe(e.initial)},transition:function(o,c){var a,l,h=typeof o=="string"?{value:o,context:e.context}:o,d=h.value,f=h.context,p=Os(c),v=e.states[d];if(v.on){var x=ge(v.on[p.type]);"*"in v.on&&x.push.apply(x,function(C,z,Ue){if(arguments.length===2)for(var X,wt=0,Xs=z.length;wt<Xs;wt++)!X&&wt in z||(X||(X=Array.prototype.slice.call(z,0,wt)),X[wt]=z[wt]);return C.concat(X||Array.prototype.slice.call(z))}([],qe(ge(v.on["*"])),!1));try{for(var $=function(C){var z=typeof Symbol=="function"&&Symbol.iterator,Ue=z&&C[z],X=0;if(Ue)return Ue.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&X>=C.length&&(C=void 0),{value:C&&C[X++],done:!C}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}(x),b=$.next();!b.done;b=$.next()){var _=b.value;if(_===void 0)return kn(d,f);var j=typeof _=="string"?{target:_}:_,U=j.target,$t=j.actions,zt=$t===void 0?[]:$t,T=j.cond,De=T===void 0?function(){return!0}:T,fe=U===void 0,ot=U??d,H=e.states[ot];if(De(f,p)){var I=qe(Tn((fe?ge(zt):[].concat(v.exit,zt,H.entry).filter(function(C){return C})).map(function(C){return Nn(C,i._options.actions)}),f,p),3),bt=I[0],Y=I[1],at=I[2],dn=U??d;return{value:dn,context:Y,actions:bt,changed:U!==d||bt.length>0||at,matches:Oe(dn)}}}}catch(C){a={error:C}}finally{try{b&&!b.done&&(l=$.return)&&l.call($)}finally{if(a)throw a.error}}}return kn(d,f)}};return i}var Hn=function(e,t){return e.actions.forEach(function(n){var s=n.exec;return s&&s(e.context,t)})};function di(e){var t=e.initialState,n=Pt.NotStarted,s=new Set,r={_machine:e,send:function(i){n===Pt.Running&&(t=e.transition(t,i),Hn(t,Os(i)),s.forEach(function(o){return o(t)}))},subscribe:function(i){return s.add(i),i(t),{unsubscribe:function(){return s.delete(i)}}},start:function(i){if(i){var o=typeof i=="object"?i:{context:e.config.context,value:i};t={value:o.value,actions:[],context:o.context,matches:Oe(o.value)}}else t=e.initialState;return n=Pt.Running,Hn(t,Cs),r},stop:function(){return n=Pt.Stopped,s.clear(),r},get state(){return t},get status(){return n}};return r}function Ps(){return new Promise(e=>{const t=setInterval(()=>{const n=window.gigya;n&&n.isReady&&(console.log("Gigya loaded  ðŸ¥³"),clearInterval(t),e(n))},100)})}async function*fi(){yield"loading",await Ps(),yield"ready"}const pi=ui({id:"script",initial:"loading",context:{domain:"gigya.com"},states:{loading:{entry:"subscribeToScriptLoaded",on:{LOADED:{target:"ready",actions:["assignGigya"]}}},ready:{entry:"onReady"}}},{actions:{subscribeToScriptLoaded:()=>{Ps().then(e=>{He.send({gigya:e,type:"LOADED"})})},assignGigya:hi({gigya:(e,t)=>t.gigya})}}),He=di(pi);He.start();const an=e=>new Promise(t=>{He.subscribe(n=>{n.matches("ready")&&t(e?e(n.context.gigya):n.context.gigya)})});async function*gi(){const e=await an();yield*await e.hasSession()?s():r();function t(){return new Promise(async i=>{e.socialize.addEventHandlers({onLogin:o=>{console.log("logged in",o),i(o)}})})}function n(){return new Promise(i=>{e.socialize.addEventHandlers({onLogout:o=>{console.log("logged out",o),i()}})})}async function*s(){yield"authenticated",await n(),yield*r()}async function*r(){yield"not-authenticated",await t(),yield*s()}}var Rs=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},yi=(e,t,n)=>(Rs(e,t,"read from private field"),n?n.call(e):t.get(e)),vi=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Mn=(e,t,n,s)=>(Rs(e,t,"write to private field"),t.set(e,n),n);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const mi=e=>(t,n)=>{n!==void 0?n.addInitializer(()=>{customElements.define(e,t)}):customElements.define(e,t)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const $i={attribute:!0,type:String,converter:Ee,reflect:!1,hasChanged:sn},bi=(e=$i,t,n)=>{const{kind:s,metadata:r}=n;let i=globalThis.litPropertyMetadata.get(r);if(i===void 0&&globalThis.litPropertyMetadata.set(r,i=new Map),s==="setter"&&((e=Object.create(e)).wrapped=!0),i.set(n.name,e),s==="accessor"){const{name:o}=n;return{set(c){const a=t.get.call(this);t.set.call(this,c),this.requestUpdate(o,a,e)},init(c){return c!==void 0&&this.C(o,void 0,e,c),c}}}if(s==="setter"){const{name:o}=n;return function(c){const a=this[o];t.call(this,c),this.requestUpdate(o,a,e)}}throw Error("Unsupported decorator location: "+s)};function ue(e){return(t,n)=>typeof n=="object"?bi(e,t,n):((s,r,i)=>{const o=r.hasOwnProperty(i);return r.constructor.createProperty(i,s),o?Object.getOwnPropertyDescriptor(r,i):void 0})(e,t,n)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function cn(e){return ue({...e,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wi=(e,t,n)=>(n.configurable=!0,n.enumerable=!0,Reflect.decorate&&typeof t!="object"&&Object.defineProperty(e,t,n),n);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function _i(e,t){return(n,s,r)=>{const i=o=>{var c;return((c=o.renderRoot)==null?void 0:c.querySelector(e))??null};return wi(n,s,{get(){return i(this)}})}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const xi=e=>e.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Qt=(e,t)=>{var n;const s=e._$AN;if(s===void 0)return!1;for(const r of s)(n=r._$AO)==null||n.call(r,t,!1),Qt(r,t);return!0},Pe=e=>{let t,n;do{if((t=e._$AM)===void 0)break;n=t._$AN,n.delete(e),e=t}while((n==null?void 0:n.size)===0)},js=e=>{for(let t;t=e._$AM;e=t){let n=t._$AN;if(n===void 0)t._$AN=n=new Set;else if(n.has(e))break;n.add(e),Si(t)}};function Ai(e){this._$AN!==void 0?(Pe(this),this._$AM=e,js(this)):this._$AM=e}function Ei(e,t=!1,n=0){const s=this._$AH,r=this._$AN;if(r!==void 0&&r.size!==0)if(t)if(Array.isArray(s))for(let i=n;i<s.length;i++)Qt(s[i],!1),Pe(s[i]);else s!=null&&(Qt(s,!1),Pe(s));else Qt(this,e)}const Si=e=>{e.type==ai.CHILD&&(e._$AP??(e._$AP=Ei),e._$AQ??(e._$AQ=Ai))};let Ci=class extends Ss{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,n,s){super._$AT(t,n,s),js(this),this.isConnected=t._$AU}_$AO(t,n=!0){var s,r;t!==this.isConnected&&(this.isConnected=t,t?(s=this.reconnected)==null||s.call(this):(r=this.disconnected)==null||r.call(this)),n&&(Qt(this,t),Pe(this))}setValue(t){if(xi(this._$Ct))this._$Ct._$AI(t,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=t,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Oi=async(e,t)=>{for await(const n of e)if(await t(n)===!1)return};let Pi=class{constructor(t){this.G=t}disconnect(){this.G=void 0}reconnect(t){this.G=t}deref(){return this.G}},Ri=class{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){this.Y??(this.Y=new Promise(t=>this.Z=t))}resume(){var t;(t=this.Z)==null||t.call(this),this.Y=this.Z=void 0}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let ji=class extends Ci{constructor(){super(...arguments),this._$CK=new Pi(this),this._$CX=new Ri}render(t,n){return B}update(t,[n,s]){if(this.isConnected||this.disconnected(),n===this._$CJ)return B;this._$CJ=n;let r=0;const{_$CK:i,_$CX:o}=this;return Oi(n,async c=>{for(;o.get();)await o.get();const a=i.deref();if(a!==void 0){if(a._$CJ!==n)return!1;s!==void 0&&(c=s(c,r)),a.commitValue(c,r),r++}return!0}),B}commitValue(t,n){this.setValue(t)}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}};const Ln=Es(ji);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Ni(e,t,n){return e?t(e):n==null?void 0:n(e)}var ki=Object.defineProperty,Ti=Object.getOwnPropertyDescriptor,J=(e,t,n,s)=>{for(var r=s>1?void 0:s?Ti(t,n):t,i=e.length-1,o;i>=0;i--)(o=e[i])&&(r=(s?o(t,n,r):o(r))||r);return s&&r&&ki(t,n,r),r},Kt,Dn;let k=(Dn=class extends Rt{constructor(){super(),vi(this,Kt,void 0),this.service=He,this.apiKey=void 0,this.domain="gigya.com",this.debug=!0,this.cname=void 0,this.state=fi(),this.authState=gi(),Mn(this,Kt,[]),this.service.subscribe(e=>{console.log("GigyaScriptService",e.value),e.matches("ready")&&(this.gigya=e.context.gigya)})}get template(){return yi(this,Kt)}set template(e){Mn(this,Kt,e)}render(){return console.log("render",this.apiKey,this.domain,this.template),Z` ${this.readySlot()} ${this.stateSlot()} ${this.authStateSlot()} ${this.script()} `}readySlot(){return Z` ${Ni(this.gigya,e=>Z`<slot></slot>`)}`}stateSlot(){return Z` ${Ln(this.state,e=>Z`<slot name="${e}"></slot>`)}`}authStateSlot(){return Z` ${Ln(this.authState,e=>Z`<slot name="${e}"></slot>`)}`}script(){return Z`${li(this.apiKey,this.domain,this.cname)}`}},Kt=new WeakMap,Dn);k.shadowRootOptions={...Rt.shadowRootOptions,delegatesFocus:!0};k.styles=zr`
    :host {
      display: block;
      color: var(--gigya-loader-text-color, black);
    }
  `;J([ue({type:String,attribute:"api-key"})],k.prototype,"apiKey",2);J([ue({type:String,attribute:"domain"})],k.prototype,"domain",2);J([ue({type:Boolean,attribute:"debug"})],k.prototype,"debug",2);J([ue({type:String,attribute:"cname"})],k.prototype,"cname",2);J([cn()],k.prototype,"gigya",2);J([cn()],k.prototype,"state",2);J([cn()],k.prototype,"authState",2);J([_i("template")],k.prototype,"template",1);k=J([mi("gigya-js")],k);var Ns=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Gt=(e,t,n)=>(Ns(e,t,"read from private field"),n?n.call(e):t.get(e)),Un=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},In=(e,t,n,s)=>(Ns(e,t,"write to private field"),t.set(e,n),n),Ot,Vt;class Hi{constructor(t){Un(this,Ot,void 0),Un(this,Vt,new Set),In(this,Ot,t)}get current(){return Gt(this,Ot)}set current(t){Gt(this,Ot)!=t&&(In(this,Ot,t),Gt(this,Vt).forEach(n=>n(t)))}on(t){return Gt(this,Vt).add(t),()=>Gt(this,Vt).delete(t)}}Ot=new WeakMap,Vt=new WeakMap;const ks=e=>new Hi(e),Je=Symbol.for("atomico.hooks");globalThis[Je]=globalThis[Je]||{};let It=globalThis[Je];const Mi=Symbol.for("Atomico.suspense"),Ts=Symbol.for("Atomico.effect"),Li=Symbol.for("Atomico.layoutEffect"),Hs=Symbol.for("Atomico.insertionEffect"),Me=(e,t,n)=>{const{i:s,hooks:r}=It.c,i=r[s]=r[s]||{};return i.value=e(i.value),i.effect=t,i.tag=n,It.c.i++,r[s].value},Le=e=>Me((t=ks(e))=>t),Bt=()=>Me((e=ks(It.c.host))=>e),Di=()=>It.c.update,Ui=(e,t,n=0)=>{let s={},r=!1;const i=()=>r,o=(c,a)=>{for(const l in s){const h=s[l];h.effect&&h.tag===c&&(h.value=h.effect(h.value,a))}};return{load:c=>{It.c={host:t,hooks:s,update:e,i:0,id:n};let a;try{r=!1,a=c()}catch(l){if(l!==Mi)throw l;r=!0}finally{It.c=null}return a},cleanEffects:c=>(o(Hs,c),()=>(o(Li,c),()=>{o(Ts,c)})),isSuspense:i}},de=Symbol.for;function Ii(e,t){const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++){let r=e[s],i=t[s];if(r!==i)return!1}return!0}const G=e=>typeof e=="function",te=e=>typeof e=="object",{isArray:Bi}=Array,Ye=(e,t)=>(t?e instanceof HTMLStyleElement:!0)&&"hydrate"in((e==null?void 0:e.dataset)||{});function Ms(e,t){let n;const s=r=>{let{length:i}=r;for(let o=0;o<i;o++){const c=r[o];if(c&&Array.isArray(c))s(c);else{const a=typeof c;if(c==null||a==="function"||a==="boolean")continue;a==="string"||a==="number"?(n==null&&(n=""),n+=c):(n!=null&&(t(n),n=null),t(c))}}};s(e),n!=null&&t(n)}const Ls=(e,t,n)=>(e.addEventListener(t,n),()=>e.removeEventListener(t,n));let Ds=class{constructor(t,n,s){this.message=n,this.target=t,this.value=s}};class zi extends Ds{}class Wi extends Ds{}const Re="Custom",qi=null,Fi={true:1,"":1,1:1};function Ki(e,t,n,s,r){const{type:i,reflect:o,event:c,value:a,attr:l=Vi(t)}=(n==null?void 0:n.name)!=Re&&te(n)&&n!=qi?n:{type:n},h=(i==null?void 0:i.name)===Re&&i.map,d=a!=null?i==Function||!G(a)?()=>a:a:null;Object.defineProperty(e,t,{configurable:!0,set(f){const p=this[t];d&&i!=Boolean&&f==null&&(f=d());const{error:v,value:x}=(h?Xi:Zi)(i,f);if(v&&x!=null)throw new zi(this,`The value defined for prop '${t}' must be of type '${i.name}'`,x);p!=x&&(this._props[t]=x??void 0,this.update(),c&&Gi(this,c),this.updated.then(()=>{o&&(this._ignoreAttr=l,Ji(this,i,l,this[t]),this._ignoreAttr=null)}))},get(){return this._props[t]}}),d&&(r[t]=d()),s[l]={prop:t,type:i}}const Gi=(e,{type:t,base:n=CustomEvent,...s})=>e.dispatchEvent(new n(t,s)),Vi=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase(),Ji=(e,t,n,s)=>s==null||t==Boolean&&!s?e.removeAttribute(n):e.setAttribute(n,(t==null?void 0:t.name)===Re&&t!=null&&t.serialize?t==null?void 0:t.serialize(s):te(s)?JSON.stringify(s):t==Boolean?"":s),Yi=(e,t)=>e==Boolean?!!Fi[t]:e==Number?Number(t):e==String?t:e==Array||e==Object?JSON.parse(t):e.name==Re?t:new e(t),Xi=({map:e},t)=>{try{return{value:e(t),error:!1}}catch{return{value:t,error:!0}}},Zi=(e,t)=>e==null||t==null?{value:t,error:!1}:e!=String&&t===""?{value:void 0,error:!1}:e==Object||e==Array||e==Symbol?{value:t,error:{}.toString.call(t)!==`[object ${e.name}]`}:t instanceof e?{value:t,error:e==Number&&Number.isNaN(t.valueOf())}:e==String||e==Number||e==Boolean?{value:t,error:e==Number?typeof t!="number"?!0:Number.isNaN(t):e==String?typeof t!="string":typeof t!="boolean"}:{value:t,error:!0};let Qi=0;const to=e=>{var t;return((t=(e==null?void 0:e.dataset)||{})==null?void 0:t.hydrate)||""||"c"+Qi++},Us=(e,t=HTMLElement)=>{const n={},s={},r="prototype"in t&&t.prototype instanceof Element,i=r?t:"base"in t?t.base:HTMLElement,{props:o,styles:c}=r?e:t;class a extends i{constructor(){super(),this._setup(),this._render=()=>e({...this._props});for(const h in s)this[h]=s[h]}static get styles(){return[super.styles,c]}async _setup(){if(this._props)return;this._props={};let h,d;this.mounted=new Promise($=>this.mount=()=>{$(),h!=this.parentNode&&(d!=h?this.unmounted.then(this.update):this.update()),h=this.parentNode}),this.unmounted=new Promise($=>this.unmount=()=>{$(),(h!=this.parentNode||!this.isConnected)&&(f.cleanEffects(!0)()(),d=this.parentNode,h=null)}),this.symbolId=this.symbolId||Symbol(),this.symbolIdParent=Symbol();const f=Ui(()=>this.update(),this,to(this));let p,v=!0;const x=Ye(this);this.update=()=>(p||(p=!0,this.updated=(this.updated||this.mounted).then(()=>{try{const $=f.load(this._render),b=f.cleanEffects();return $&&$.render(this,this.symbolId,x),p=!1,v&&!f.isSuspense()&&(v=!1,!x&&eo(this)),b()}finally{p=!1}}).then($=>{$&&$()})),this.updated),this.update()}connectedCallback(){this.mount(),super.connectedCallback&&super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this.unmount()}attributeChangedCallback(h,d,f){if(n[h]){if(h===this._ignoreAttr||d===f)return;const{prop:p,type:v}=n[h];try{this[p]=Yi(v,f)}catch{throw new Wi(this,`The value defined as attr '${h}' cannot be parsed by type '${v.name}'`,f)}}else super.attributeChangedCallback(h,d,f)}static get props(){return{...super.props,...o}}static get observedAttributes(){const h=super.observedAttributes||[];for(const d in o)Ki(this.prototype,d,o[d],n,s);return Object.keys(n).concat(h)}}return a};function eo(e){const{styles:t}=e.constructor,{shadowRoot:n}=e;if(n&&t.length){const s=[];Ms(t,r=>{r&&(r instanceof Element?n.appendChild(r.cloneNode(!0)):s.push(r))}),s.length&&(n.adoptedStyleSheets=s)}}const Is=e=>(t,n)=>{Me(([s,r]=[])=>((r||!r)&&(r&&Ii(r,n)?s=s||!0:(G(s)&&s(),s=null)),[s,n]),([s,r],i)=>i?(G(s)&&s(),[]):[s||t(),r],e)},Bn=Is(Ts),Bs=Is(Hs),Xe=de("atomico/options");globalThis[Xe]=globalThis[Xe]||{sheet:!!document.adoptedStyleSheets};const ln=globalThis[Xe];new Promise(e=>{ln.ssr||(document.readyState==="loading"?Ls(document,"DOMContentLoaded",e):e())});const no={checked:1,value:1,selected:1},so={list:1,type:1,size:1,form:1,width:1,height:1,src:1,href:1,slot:1},ro={shadowDom:1,staticNode:1,cloneNode:1,children:1,key:1},xe={},Ze=[];let je=class extends Text{};const io=de("atomico/id"),ee=de("atomico/type"),Fe=de("atomico/ref"),zs=de("atomico/vnode"),oo=()=>{};function ao(e,t,n){return qs(this,e,t,n)}const Ws=(e,t,...n)=>{const s=t||xe;let{children:r}=s;if(r=r??(n.length?n:Ze),e===oo)return r;const i=e?e instanceof Node?1:e.prototype instanceof HTMLElement&&2:0;if(i===!1&&e instanceof Function)return e(r!=Ze?{children:r,...s}:s);const o=ln.render||ao;return{[ee]:zs,type:e,props:s,children:r,key:s.key,shadow:s.shadowDom,static:s.staticNode,raw:i,is:s.is,clone:s.cloneNode,render:o}};function qs(e,t,n=io,s,r){let i;if(t&&t[n]&&t[n].vnode==e||e[ee]!=zs)return t;(e||!t)&&(r=r||e.type=="svg",i=e.type!="host"&&(e.raw==1?(t&&e.clone?t[Fe]:t)!=e.type:e.raw==2?!(t instanceof e.type):t?t[Fe]||t.localName!=e.type:!t),i&&e.type!=null&&(e.raw==1&&e.clone?(s=!0,t=e.type.cloneNode(!0),t[Fe]=e.type):t=e.raw==1?e.type:e.raw==2?new e.type:r?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,e.is?{is:e.is}:void 0)));const o=t[n]?t[n]:xe,{vnode:c=xe,cycle:a=0}=o;let{fragment:l,handlers:h}=o;const{children:d=Ze,props:f=xe}=c;if(h=i?{}:h||{},e.static&&!i)return t;if(e.shadow&&!t.shadowRoot&&t.attachShadow({mode:"open",...e.shadow}),e.props!=f&&ho(t,f,e.props,h,r),e.children!==d){const p=e.shadow?t.shadowRoot:t;l=lo(e.children,l,p,n,!a&&s,r&&e.type=="foreignObject"?!1:r)}return t[n]={vnode:e,handlers:h,fragment:l,cycle:a+1},t}function co(e,t){const n=new je(""),s=new je("");let r;if(e[t?"prepend":"append"](n),t){let{lastElementChild:i}=e;for(;i;){const{previousElementSibling:o}=i;if(Ye(i,!0)&&!Ye(o,!0)){r=i;break}i=o}}return r?r.before(s):e.append(s),{markStart:n,markEnd:s}}function lo(e,t,n,s,r,i){e=e==null?null:Bi(e)?e:[e];const o=t||co(n,r),{markStart:c,markEnd:a,keyes:l}=o;let h;const d=l&&new Set;let f=c;if(e&&Ms(e,p=>{if(typeof p=="object"&&!p[ee])return;const v=p[ee]&&p.key,x=l&&v!=null&&l.get(v);f!=a&&f===x?d.delete(f):f=f==a?a:f.nextSibling;const $=l?x:f;let b=$;if(p[ee])b=qs(p,$,s,r,i);else{const _=p+"";!(b instanceof Text)||b instanceof je?b=new Text(_):b.data!=_&&(b.data=_)}b!=f&&(l&&d.delete(b),!$||l?(n.insertBefore(b,f),l&&f!=a&&d.add(f)):$==a?n.insertBefore(b,a):(n.replaceChild(b,$),f=b)),v!=null&&(h=h||new Map,h.set(v,b))}),f=f==a?a:f.nextSibling,t&&f!=a)for(;f!=a;){const p=f;f=f.nextSibling,p.remove()}return d&&d.forEach(p=>p.remove()),o.keyes=h,o}function ho(e,t,n,s,r){for(const i in t)!(i in n)&&zn(e,i,t[i],null,r,s);for(const i in n)zn(e,i,t[i],n[i],r,s)}function zn(e,t,n,s,r,i){if(t=t=="class"&&!r?"className":t,n=n??null,s=s??null,t in e&&no[t]&&(n=e[t]),!(s===n||ro[t]||t[0]=="_"))if(e.localName==="slot"&&t==="assignNode"&&"assign"in e)e.assign(s);else if(t[0]=="o"&&t[1]=="n"&&(G(s)||G(n)))uo(e,t.slice(2),s,i);else if(t=="ref")s&&(G(s)?s(e):s.current=e);else if(t=="style"){const{style:o}=e;n=n||"",s=s||"";const c=te(n),a=te(s);if(c)for(const l in n)if(a)!(l in s)&&Wn(o,l,null);else break;if(a)for(const l in s){const h=s[l];c&&n[l]===h||Wn(o,l,h)}else o.cssText=s}else{const o=t[0]=="$"?t.slice(1):t;o===t&&(!r&&!so[t]&&t in e||G(s)||G(n))?e[t]=s??"":s==null?e.removeAttribute(o):e.setAttribute(o,te(s)?JSON.stringify(s):s)}}function uo(e,t,n,s){if(s.handleEvent||(s.handleEvent=r=>s[r.type].call(e,r)),n){if(!s[t]){const r=n.capture||n.once||n.passive?Object.assign({},n):null;e.addEventListener(t,s,r)}s[t]=n}else s[t]&&(e.removeEventListener(t,s),delete s[t])}function Wn(e,t,n){let s="setProperty";n==null&&(s="removeProperty",n=null),~t.indexOf("-")?e[s](t,n):e[t]=n}const fo=Ws("host",{style:"display: contents"}),po="value",go=(e,t)=>{const n=Bt(),s=Le();Bs(()=>Ls(n.current,"ConnectContext",r=>{r.composedPath().at(0)!==r.currentTarget&&e===r.detail.id&&(r.stopPropagation(),r.detail.connect(s))}),[e]),s.current=t},yo=e=>{const t=Us(({value:n})=>(go(t,n),fo),{props:{value:{type:Object,value:()=>e}}});return t[po]=e,t};yo({dispatch(e,t){}});class vo extends Array{constructor(t,n){let s=!0;const r=i=>{try{n(i,this,s)}finally{s=!1}};super(void 0,r,n),r(t)}}const hn=e=>{const t=Di();return Me((n=new vo(e,(s,r,i)=>{s=G(s)?s(r[0]):s,s!==r[0]&&(r[0]=s,i||t())}))=>n)},Fs=(e,t)=>{const n=Bt();Bs(()=>{let s=!1,r,i=()=>{r&&r(),r=null};const o=async()=>{s||(s=!0,await n.current.updated,i(),s=!1,r=e())},c=t.map(a=>a==null?void 0:a.on(o));return n.once||(n.once=!0,o()),()=>{c.map(a=>a&&a()),i()}},t)},qn={};function mo(e,...t){const n=(e.raw||e).reduce((s,r,i)=>s+r+(t[i]||""),"");return qn[n]=qn[n]||$o(n)}function $o(e){if(ln.sheet){const t=new CSSStyleSheet;return t.replaceSync(e),t}else{const t=document.createElement("style");return t.textContent=e,t}}const bo=0,xt=1,ye=2,ve=3,Fn=4,Jt=5,Qe=6,Ks=0,wo=2,Gs=3,Vs=4,Js=Jt,_o=Qe,Ys=(e,t,n,s)=>{let r;t[0]=0;for(let i=1;i<t.length;i++){const o=t[i++],c=t[i]?(t[0]|=o?1:2,n[t[i++]]):t[++i];o===Gs?s[0]=c:o===Vs?s[1]=Object.assign(s[1]||{},c):o===Js?(s[1]=s[1]||{})[t[++i]]=c:o===_o?s[1][t[++i]]+=c+"":o?(r=e.apply(c,Ys(e,c,n,["",null])),s.push(r),c[0]?t[0]|=2:(t[i-2]=Ks,t[i]=r)):s.push(c)}return s},xo=function(e){let t=xt,n="",s="",r=[0],i,o;const c=a=>{t===xt&&(a||(n=n.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?r.push(Ks,a,n):t===ve&&(a||n)?(r.push(Gs,a,n),t=ye):t===ye&&n==="..."&&a?r.push(Vs,a,0):t===ye&&n&&!a?r.push(Js,0,!0,n):t>=Jt&&((n||!a&&t===Jt)&&(r.push(t,0,n,o),t=Qe),a&&(r.push(t,a,0,o),t=Qe)),n=""};for(let a=0;a<e.length;a++){a&&(t===xt&&c(),c(a));for(let l=0;l<e[a].length;l++)i=e[a][l],t===xt?i==="<"?(c(),r=[r],t=ve):n+=i:t===Fn?n==="--"&&i===">"?(t=xt,n=""):n=i+n[0]:s?i===s?s="":n+=i:i==='"'||i==="'"?s=i:i===">"?(c(),t=xt):t&&(i==="="?(t=Jt,o=n,n=""):i==="/"&&(t<Jt||e[a][l+1]===">")?(c(),t===ve&&(r=r[0]),t=r,(r=r[0]).push(wo,0,t),t=bo):i===" "||i==="	"||i===`
`||i==="\r"?(c(),t=ye):n+=i),t===ve&&n==="!--"&&(t=Fn,r=r[0])}return c(),r},Ao=new Map;function Kn(e){let t=Ao;return t=Ys(Ws,t.get(e)||(t.set(e,t=xo(e)),t),arguments,[]),t.length>1?t:t[0]}function Eo(e,t={childList:!0,characterData:!0}){So(Bt(),e,t)}function So(e,t,n={childList:!0,characterData:!0}){const s=Le();s.current=t,Fs(()=>{if(!e.current)return;const r=new MutationObserver(o=>{o.forEach(({addedNodes:c})=>c.forEach(i)),s.current(o,r)}),i=o=>{o instanceof Text&&r.observe(o,{...n,characterData:!0})};return r.observe(e.current,n),e.current.childNodes.forEach(i),()=>r.disconnect()},[e])}const Gn=e=>Array.from(e.childNodes).filter(t=>!(t instanceof je)&&!(t instanceof Comment));function Co(e={childList:!0}){const t=Bt(),[n,s]=hn(()=>Gn(t.current));return Eo(()=>{s(Gn(t.current))},e),n}function Oo(e,t={childList:!0,characterData:!0}){Po(Bt(),e,t)}function Po(e,t,n={childList:!0,characterData:!0}){const s=Le();s.current=t,Fs(()=>{if(!e.current)return;const r=new MutationObserver(o=>{o.forEach(({addedNodes:c})=>c.forEach(i)),s.current(o,r)}),i=o=>{o instanceof Text&&r.observe(o,{...n,characterData:!0})};return r.observe(e.current,n),e.current.childNodes.forEach(i),()=>r.disconnect()},[e])}const Ro=e=>e.replace(/-(\w)/g,(t,n)=>n.toUpperCase()),jo=e=>{const{constructor:t}=e,n=t.props||{},s={};return Object.values(e.attributes).reduce((r,i)=>{const o=Ro(i.name);return o in n||(r[o]=i.value),r},s)};function No(){const e=Bt(),t=()=>jo(e.current),[n,s]=hn(t);return Oo(()=>s(t),{attributes:!0}),n}const ko=Us(({screenSet:e,screen:t,container:n,open:s,popup:r,...i})=>{const[o]=hn(!n&&!r&&`screen-container-${e}-${t}`||void 0),c=Co().find(d=>d.nodeName=="TEMPLATE"),a=No(),l=Le();Bn(()=>{s&&an(({accounts:d})=>d.showScreenSet({screenSet:e,startScreen:t,containerID:r?void 0:n||o})).catch(console.error)},[c==null?void 0:c.content,o,s]),Bn(()=>{c!=null&&c.content&&(l.current.innerHTML=c.innerHTML)},[c==null?void 0:c.content]);const h=Object.keys(i).reduce((d,f)=>(f.startsWith("data-")&&(d[f]=i[f]),d),To(a));return console.log(h),Kn`
      <host>
        ${o?Kn`<div id=${o} class="w-full"/>`:void 0}
        <div id=${e} class="gigya-screen-set" style=${{display:"none"}} ...${h}>
          <div id=${t} class="gigya-screen" ref="${l}" style="height: 100%; width: 100%" ...${h}>
          </div>
        </div>
      </host>`},{styles:mo`
    @tailwind base;
    @tailwind components;
    @tailwind utilities;

    :host {
      display: block;
    }
  `,props:{screenSet:{type:String,value:()=>`screen-set-${Math.random().toString(36).substring(7)}`,attr:"screen-set"},screen:{type:String,value:"default-screen"},container:{type:String,value:void 0,attr:"container"},popup:{type:Boolean,value:!1,attr:"popup",reflect:!0},open:{type:Boolean,value:!0,reflect:!0}}});customElements.define("gigya-screen",ko);function To(e){return Object.keys(e).reduce((t,n)=>{const s=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return t[s]=e[n],t},{})}var Vn=Object.freeze,Ho=Object.defineProperty,Mo=(e,t)=>Vn(Ho(e,"raw",{value:Vn(e.slice())})),Jn;const un=new Lr().basePath("/sw"),Lo=`
  .card{background:#fff;border-radius:12px;border:1px solid #e5e7eb;padding:24px;margin-bottom:20px;box-shadow:0 1px 3px rgba(0,0,0,.06)}
  .btn{display:inline-flex;align-items:center;gap:8px;padding:8px 20px;border-radius:8px;font-weight:600;font-size:.875rem;cursor:pointer;border:none;transition:all .15s}
  .btn-primary{background:#6366f1;color:#fff}
  .btn-primary:hover{background:#4f46e5}
  .tag{display:inline-flex;align-items:center;gap:4px;background:#e0e7ff;color:#3730a3;border-radius:9999px;padding:2px 10px;font-size:12px;font-weight:600}
  .badge-ok{background:#dcfce7;color:#166534}
`;un.get("/",e=>{const{VITE_GIGYA_API_KEY:t,VITE_GIGYA_DOMAIN:n}=env(e);return e.html(Ir(Jn||(Jn=Mo([`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"><\/script>
  <script src="https://cdn.jsdelivr.net/npm/iconify-icon@2.1.0/dist/iconify-icon.min.js"><\/script>
  <script src="https://esm.sh/@gigya/wc" type="module"><\/script>
  <script src="https://unpkg.com/htmx.org@2.0.4"><\/script>
  <style>`,`</style>
  <title>Engagement Layer</title>
</head>
<body>
  <gigya-js api-key="`,'" domain="',`" class="h-full w-full">
    <gigya-screen slot="not-authenticated" screen-set="landing-login" container-id="login"
      data-on-success-screen="_finish">
      <template>
        <div class="min-h-md flex items-center justify-center fixed inset-0">
          <div class="min-w-md bg-white rounded-xl shadow-lg p-8 space-y-6">
            <div class="text-center space-y-2">
              <h1 class="text-2xl font-semibold text-[#0a6ed1]">
                SAP Engagement Layer
              </h1>
              <p class="text-sm text-gray-500">
                Sign in using one of the options below
              </p>
            </div>

            <div class="space-y-3">
              <button type="button" data-gigya-provider="oidc-accountssapdev"
                onclick="gigya.socialize.login({provider:'oidc-accountssapdev'})"
                class="w-full flex items-center justify-center gap-3 py-3 rounded-md border border-gray-300 bg-white hover:bg-blue-50 hover:border-[#0a6ed1] transition text-sm font-medium text-gray-700 shadow-sm">
                <iconify-icon icon="simple-icons:sap" width="18"></iconify-icon>
                Sign in with SAP
              </button>

              <button type="button" data-gigya-provider="google"
                onclick="gigya.socialize.login({provider:'google'})"
                class="w-full flex items-center justify-center gap-3 py-3 rounded-md border border-gray-300 bg-white hover:bg-blue-50 hover:border-[#0a6ed1] transition text-sm font-medium text-gray-700 shadow-sm">
                <iconify-icon icon="simple-icons:google" width="18"></iconify-icon>
                Sign in with Google
              </button>
            </div>

            <div class="flex items-center gap-4">
              <div class="flex-1 h-px bg-gray-200"></div>
              <div class="flex-1 h-px bg-gray-200"></div>
            </div>

            <p class="text-xs text-gray-400 text-center">
              By signing in, you accept the
              <a href="#" class="text-[#0a6ed1] hover:underline">Terms of Service</a>
              and acknowledge our
              <a href="#" class="text-[#0a6ed1] hover:underline">Privacy Policy</a>.
            </p>
          </div>
        </div>
      </template>
    </gigya-screen>

    <gigya-screen slot="authenticated">
      <template>
        <div class="min-h-screen bg-gray-50">
          <nav class="bg-white shadow-sm border-b">
            <div class="container mx-auto px-4">
              <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                  <span class="text-xl font-bold text-gray-900">Gigya</span>
                  <span class="text-gray-400">/</span>
                  <span class="text-gray-700 font-semibold">Group Manager</span>
                </div>
                <button onclick="gigya.accounts.logout()" class="text-sm text-indigo-600 hover:underline">
                  Logout
                </button>
              </div>
            </div>
          </nav>

          <main class="container mx-auto px-4 py-8 max-w-4xl">
            <div class="mb-6">
              <h1 class="text-3xl font-bold text-gray-900 mb-1">Group Invitations</h1>
              <p class="text-gray-500">Manage group invitations and members</p>
            </div>

            <div class="card">
              <div class="flex items-center gap-3 mb-4">
                <div style="width:28px;height:28px;border-radius:9999px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:13px;background:#6366f1;color:#fff">ðŸ‘¥</div>
                <div>
                  <p class="text-lg font-bold text-gray-900">Groups</p>
                  <p class="text-sm text-gray-600">View and manage your groups</p>
                </div>
              </div>

              <div id="groups-list" class="space-y-2">
                <button
                  hx-get="/sw/groups"
                  hx-target="#groups-list"
                  hx-swap="innerHTML"
                  class="btn btn-primary">
                  Load Groups
                </button>
              </div>
            </div>
          </main>
        </div>
      </template>
    </gigya-screen>
  </gigya-js>
</body>
</html>
  `])),Lo,t,n))});un.get("/groups",async e=>{try{const n=await an().accounts.groups.search({query:"select * from groups",model:"playground-access"});if(n.results&&n.results.length>0){const s=n.results.map(r=>`
        <div class="border border-gray-200 rounded-lg p-4 hover:border-indigo-300 transition">
          <div class="flex justify-between items-center">
            <div>
              <h3 class="font-semibold text-gray-900">${r.name||r.groupId}</h3>
              <p class="text-sm text-gray-500">Members: ${r.membersCount||0}</p>
              <p class="text-xs text-gray-400 font-mono">Model: ${r.model||"N/A"}</p>
            </div>
            <span class="tag badge-ok">${r.membersCount||0} members</span>
          </div>
        </div>
      `).join("");return e.html(s)}else return e.html('<p class="text-gray-500">No groups found</p>')}catch(t){return e.html(`<p class="text-red-500">Error loading groups: ${t.message}</p>`)}});Ur(un);
